!function(e){"object"==typeof exports&&"object"==typeof module?e(require("../codemirror")):"function"==typeof define&&define.amd?define(["../codemirror"],e):e(CodeMirror)}(function(e){"use strict";function t(e){for(var t={},n=e.split(" "),r=0;r<n.length;++r)t[n[r]]=!0;return t}function n(e,t){if(!t.startOfLine)return!1;for(;;){if(!e.skipTo("\\")){e.skipToEnd(),t.tokenize=null;break}if(e.next(),e.eol()){t.tokenize=n;break}}return"meta"}function r(e,t){return"variable-3"==t.prevToken?"variable-3":!1}function i(e,t){if(e.backUp(1),e.match(/(R|u8R|uR|UR|LR)/)){var n=e.match(/"([^\s\\()]{0,16})\(/);return n?(t.cpp11RawStringDelim=n[1],t.tokenize=a,a(e,t)):!1}return e.match(/(u8|u|U|L)/)?e.match(/["']/,!1)?"string":!1:(e.next(),!1)}function o(e){var t=/(\w+)::(\w+)$/.exec(e);return t&&t[1]==t[2]}function a(e,t){var n=t.cpp11RawStringDelim.replace(/[^\w\s]/g,"\\$&"),r=e.match(new RegExp(".*?\\)"+n+'"'));return r?t.tokenize=null:e.skipToEnd(),"string"}function s(t,n){function r(e){if(e)for(var t in e)e.hasOwnProperty(t)&&i.push(t)}"string"==typeof t&&(t=[t]);var i=[];r(n.keywords),r(n.types),r(n.builtin),r(n.atoms),i.length&&(n.helperType=t[0],e.registerHelper("hintWords",t[0],i));for(var o=0;o<t.length;++o)e.defineMIME(t[o],n)}e.defineMode("clike",function(t,n){function r(e,t){var n=e.next();if(_[n]){var r=_[n](e,t);if(r!==!1)return r}if('"'==n||"'"==n)return t.tokenize=i(n),t.tokenize(e,t);if(/[\[\]{}\(\),;\:\.]/.test(n))return p=n,null;if(/\d/.test(n))return e.eatWhile(/[\w\.]/),"number";if("/"==n){if(e.eat("*"))return t.tokenize=o,o(e,t);if(e.eat("/"))return e.skipToEnd(),"comment"}if(I.test(n))return e.eatWhile(I),"operator";if(e.eatWhile(/[\w\$_\xa1-\uffff]/),S)for(;e.match(S);)e.eatWhile(/[\w\$_\xa1-\uffff]/);var a=e.current();return k.propertyIsEnumerable(a)?(w.propertyIsEnumerable(a)&&(p="newstatement"),x.propertyIsEnumerable(a)&&(d=!0),"keyword"):h.propertyIsEnumerable(a)?"variable-3":b.propertyIsEnumerable(a)?(w.propertyIsEnumerable(a)&&(p="newstatement"),"builtin"):g.propertyIsEnumerable(a)?"atom":"variable"}function i(e){return function(t,n){for(var r,i=!1,o=!1;null!=(r=t.next());){if(r==e&&!i){o=!0;break}i=!i&&"\\"==r}return(o||!i&&!z)&&(n.tokenize=null),"string"}}function o(e,t){for(var n,r=!1;n=e.next();){if("/"==n&&r){t.tokenize=null;break}r="*"==n}return"comment"}function a(e,t,n,r,i){this.indented=e,this.column=t,this.type=n,this.align=r,this.prev=i}function s(e){return"statement"==e||"switchstatement"==e||"namespace"==e}function l(e,t,n){var r=e.indented;return e.context&&s(e.context.type)&&!s(n)&&(r=e.context.indented),e.context=new a(r,t,n,null,e.context)}function c(e){var t=e.context.type;return(")"==t||"]"==t||"}"==t)&&(e.indented=e.context.indented),e.context=e.context.prev}function u(e,t){return"variable"==t.prevToken||"variable-3"==t.prevToken?!0:/\S(?:[^- ]>|[*\]])\s*$|\*$/.test(e.string.slice(0,e.start))?!0:void 0}function f(e){for(;;){if(!e||"top"==e.type)return!0;if("}"==e.type&&"namespace"!=e.prev.type)return!1;e=e.prev}}var p,d,m=t.indentUnit,y=n.statementIndentUnit||m,v=n.dontAlignCalls,k=n.keywords||{},h=n.types||{},b=n.builtin||{},w=n.blockKeywords||{},x=n.defKeywords||{},g=n.atoms||{},_=n.hooks||{},z=n.multiLineStrings,T=n.indentStatements!==!1,E=n.indentSwitch!==!1,S=n.namespaceSeparator,I=/[+\-*&%=<>!?|\/]/;return{startState:function(e){return{tokenize:null,context:new a((e||0)-m,0,"top",!1),indented:0,startOfLine:!0,prevToken:null}},token:function(e,t){var i=t.context;if(e.sol()&&(null==i.align&&(i.align=!1),t.indented=e.indentation(),t.startOfLine=!0),e.eatSpace())return null;p=d=null;var o=(t.tokenize||r)(e,t);if("comment"==o||"meta"==o)return o;if(null==i.align&&(i.align=!0),";"==p||":"==p||","==p)for(;s(t.context.type);)c(t);else if("{"==p)l(t,e.column(),"}");else if("["==p)l(t,e.column(),"]");else if("("==p)l(t,e.column(),")");else if("}"==p){for(;s(i.type);)i=c(t);for("}"==i.type&&(i=c(t));s(i.type);)i=c(t)}else if(p==i.type)c(t);else if(T&&(("}"==i.type||"top"==i.type)&&";"!=p||s(i.type)&&"newstatement"==p)){var a="statement";"newstatement"==p&&E&&"switch"==e.current()?a="switchstatement":"keyword"==o&&"namespace"==e.current()&&(a="namespace"),l(t,e.column(),a)}if("variable"==o&&("def"==t.prevToken||n.typeFirstDefinitions&&u(e,t)&&f(t.context)&&e.match(/^\s*\(/,!1))&&(o="def"),_.token){var m=_.token(e,t,o);void 0!==m&&(o=m)}return"def"==o&&n.styleDefs===!1&&(o="variable"),t.startOfLine=!1,t.prevToken=d?"def":o||p,o},indent:function(t,n){if(t.tokenize!=r&&null!=t.tokenize)return e.Pass;var i=t.context,o=n&&n.charAt(0);s(i.type)&&"}"==o&&(i=i.prev);var a=o==i.type,l=i.prev&&"switchstatement"==i.prev.type;return s(i.type)?i.indented+("{"==o?0:y):!i.align||v&&")"==i.type?")"!=i.type||a?i.indented+(a?0:m)+(a||!l||/^(?:case|default)\b/.test(n)?0:m):i.indented+y:i.column+(a?0:1)},electricInput:E?/^\s*(?:case .*?:|default:|\{\}?|\})$/:/^\s*[{}]$/,blockCommentStart:"/*",blockCommentEnd:"*/",lineComment:"//",fold:"brace"}});var l="auto if break case register continue return default do sizeof static else struct switch extern typedef float union for goto while enum const volatile" + " pinMode digitalWrite digitalRead analogRead analogWrite shiftOut pulseIn millis micros delay delayMicroseconds min max abs constrain map pow sq sqrt sin cos tan randomSeed random sizeof lowByte highByte bitRead bitWrite bitSet bitClear bit tone noTon attachInterrupt detachInterrupt interrupts noInterrupts " + "begin available read flush print println write connected connect stop printVersion printFirmwareVersion setFirmwareVersion sendAnalog sendDigitalPorts sendDigitalPortPair sendSysex sendString processInput attach detach requestFrom beginTransmission endTransmission send receive onReceive onRequest" ,c="int long char short double float unsigned signed void size_t ptrdiff_t " + "HIGH LOW INPUT OUTPUT CHANGE RISING FALLING " + "EEPROM Ethernet Serial Firmata Wire";s(["text/x-csrc","text/x-c","text/x-chdr"],{name:"clike",keywords:t(l),types:t(c+" bool _Complex _Bool float_t double_t intptr_t intmax_t int8_t int16_t int32_t int64_t uintptr_t uintmax_t uint8_t uint16_t uint32_t uint64_t"),blockKeywords:t("case do else for if switch while struct"),defKeywords:t("struct"),typeFirstDefinitions:!0,atoms:t("null true false"),hooks:{"#":n,"*":r},modeProps:{fold:["brace","include"]}}),s(["text/x-c++src","text/x-c++hdr"],{name:"clike",keywords:t(l+" asm dynamic_cast namespace reinterpret_cast try explicit new static_cast typeid catch operator template typename class friend private this using const_cast inline public throw virtual delete mutable protected alignas alignof constexpr decltype nullptr noexcept thread_local final static_assert override"),types:t(c+" bool wchar_t"),blockKeywords:t("catch class do else finally for if struct switch try while"),defKeywords:t("class namespace struct enum union"),typeFirstDefinitions:!0,atoms:t("true false null"),hooks:{"#":n,"*":r,u:i,U:i,L:i,R:i,token:function(e,t,n){return"variable"!=n||"("!=e.peek()||";"!=t.prevToken&&null!=t.prevToken&&"}"!=t.prevToken||!o(e.current())?void 0:"def"}},namespaceSeparator:"::",modeProps:{fold:["brace","include"]}})});